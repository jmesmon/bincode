<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="rustdoc">
    <meta name="description" content="API documentation for the Rust `SizeLimit` enum in crate `bincode`.">
    <meta name="keywords" content="rust, rustlang, rust-lang, SizeLimit">

    <title>bincode::SizeLimit - Rust</title>

    <link rel="stylesheet" type="text/css" href="../main.css">

    
    
</head>
<body class="rustdoc">
    <!--[if lte IE 8]>
    <div class="warning">
        This old browser is unsupported and will most likely display funky
        things.
    </div>
    <![endif]-->

    

    <section class="sidebar">
        <a href='../bincode/index.html'><img src='./icon.png' alt='' width='100'></a>
        <p class='location'><a href='index.html'>bincode</a></p><div class='block struct'><h2>Structs</h2><a class='struct ' href='struct.DecoderReader.html' title='A Decoder that reads bytes from a buffer.'>DecoderReader</a><a class='struct ' href='struct.EncoderWriter.html' title='An Encoder that encodes values directly into a Writer.'>EncoderWriter</a></div><div class='block enum'><h2>Enums</h2><a class='enum ' href='enum.DecodingError.html' title='An error that can be produced during decoding.'>DecodingError</a><a class='enum ' href='enum.EncodingError.html' title='An error that can be produced during encoding.'>EncodingError</a><a class='enum current' href='enum.SizeLimit.html' title='`bincode` is a crate for encoding and decoding using a tiny binary serialization strategy.'>SizeLimit</a></div><div class='block fn'><h2>Functions</h2><a class='fn ' href='fn.decode.html' title='Decodes a slice of bytes into an object.'>decode</a><a class='fn ' href='fn.decode_from.html' title='Decoes an object directly from a `Buffer`ed Reader.'>decode_from</a><a class='fn ' href='fn.encode.html' title='Encodes an encodable object into a `Vec` of bytes.'>encode</a><a class='fn ' href='fn.encode_into.html' title='Encodes an object directly into a `Writer`.'>encode_into</a><a class='fn ' href='fn.encoded_size.html' title='Returns the size that an object would be if encoded using bincode.'>encoded_size</a></div>
    </section>

    <nav class="sub">
        <form class="search-form js-only">
            <div class="search-container">
                <input class="search-input" name="search"
                       autocomplete="off"
                       placeholder="Click or press 'S' to search, '?' for more options..."
                       type="search">
            </div>
        </form>
    </nav>

    <section id='main' class="content enum">
<h1 class='fqn'><span class='in-band'>Enum <a href='index.html'>bincode</a>::<wbr><a class='enum' href=''>SizeLimit</a><wbr></span><span class='out-of-band'><span id='render-detail'>
            <a id="collapse-all" href="#">[-]
            </a>&nbsp;<a id="expand-all" href="#">[+]</a>
        </span><a id='src-5084' href='../src/bincode/lib.rs.html#91-94'>[src]</a></span></h1>
<pre class='rust enum'>pub enum SizeLimit {
    Infinite,
    Bounded(<a href='http://doc.rust-lang.org/nightly/std/primitive.u64.html'>u64</a>),
}</pre><div class='docblock'><p><code>bincode</code> is a crate for encoding and decoding using a tiny binary
serialization strategy.</p>

<p>There are simple functions for encoding to <code>Vec&lt;u8&gt;</code> and decoding from
<code>&amp;[u8]</code>, but the meat of the library is the <code>encode_into</code> and <code>decode_from</code>
functions which respectively allow encoding into a <code>std::io::Writer</code>
and decoding from a <code>std::io::Buffer</code>.</p>

<h3 id="using-basic-functions" class='section-header'><a
                           href="#using-basic-functions">Using Basic Functions</a></h3><pre id='rust-example-rendered' class='rust '>
<span class='attribute'>#<span class='op'>!</span>[<span class='ident'>allow</span>(<span class='ident'>unstable</span>)]</span>
<span class='kw'>extern</span> <span class='kw'>crate</span> <span class='ident'>bincode</span>;
<span class='kw'>fn</span> <span class='ident'>main</span>() {
    <span class='comment'>// The object that we will serialize.</span>
    <span class='kw'>let</span> <span class='ident'>target</span> <span class='op'>=</span> <span class='prelude-val'>Some</span>(<span class='string'>&quot;hello world&quot;</span>.<span class='ident'>to_string</span>());
    <span class='comment'>// The maximum size of the encoded message.</span>
    <span class='kw'>let</span> <span class='ident'>limit</span> <span class='op'>=</span> <span class='ident'>bincode</span>::<span class='ident'>SizeLimit</span>::<span class='ident'>Bounded</span>(<span class='number'>20</span>);

    <span class='kw'>let</span> <span class='ident'>encoded</span>: <span class='ident'>Vec</span><span class='op'>&lt;</span><span class='ident'>u8</span><span class='op'>&gt;</span>        <span class='op'>=</span> <span class='ident'>bincode</span>::<span class='ident'>encode</span>(<span class='kw-2'>&amp;</span><span class='ident'>target</span>, <span class='ident'>limit</span>).<span class='ident'>unwrap</span>();
    <span class='kw'>let</span> <span class='ident'>decoded</span>: <span class='prelude-ty'>Option</span><span class='op'>&lt;</span><span class='ident'>String</span><span class='op'>&gt;</span> <span class='op'>=</span> <span class='ident'>bincode</span>::<span class='ident'>decode</span>(<span class='kw-2'>&amp;</span><span class='ident'>encoded</span>[]).<span class='ident'>unwrap</span>();
    <span class='macro'>assert_eq</span><span class='macro'>!</span>(<span class='ident'>target</span>, <span class='ident'>decoded</span>);
}
</pre>

<h3 id="using-into/from-functions" class='section-header'><a
                           href="#using-into/from-functions">Using Into/From Functions</a></h3><pre id='rust-example-rendered' class='rust '>
<span class='attribute'>#<span class='op'>!</span>[<span class='ident'>allow</span>(<span class='ident'>unstable</span>)]</span>
<span class='kw'>extern</span> <span class='kw'>crate</span> <span class='ident'>bincode</span>;
<span class='kw'>use</span> <span class='ident'>std</span>::<span class='ident'>old_io</span>::<span class='ident'>pipe</span>::<span class='ident'>PipeStream</span>;
<span class='kw'>use</span> <span class='ident'>std</span>::<span class='ident'>old_io</span>::<span class='ident'>BufferedReader</span>;
<span class='kw'>fn</span> <span class='ident'>main</span>() {
    <span class='comment'>// The pipes that we will be using to send values across.</span>
    <span class='kw'>let</span> <span class='ident'>streams</span> <span class='op'>=</span> <span class='ident'>PipeStream</span>::<span class='ident'>pair</span>().<span class='ident'>unwrap</span>();
    <span class='kw'>let</span> (<span class='kw-2'>mut</span> <span class='ident'>reader</span>, <span class='kw-2'>mut</span> <span class='ident'>writer</span>) <span class='op'>=</span> (<span class='ident'>BufferedReader</span>::<span class='ident'>new</span>(<span class='ident'>streams</span>.<span class='ident'>reader</span>),
                                    <span class='ident'>streams</span>.<span class='ident'>writer</span>);
    <span class='comment'>// The object that we will send across.</span>
    <span class='kw'>let</span> <span class='ident'>target</span> <span class='op'>=</span> <span class='prelude-val'>Some</span>(<span class='number'>5u32</span>);
    <span class='comment'>// The max-size of the encoded bytes.</span>
    <span class='kw'>let</span> <span class='ident'>limit</span> <span class='op'>=</span> <span class='ident'>bincode</span>::<span class='ident'>SizeLimit</span>::<span class='ident'>Bounded</span>(<span class='number'>10</span>);

    <span class='comment'>// Do the actual encoding and decoding.</span>
    <span class='ident'>bincode</span>::<span class='ident'>encode_into</span>(<span class='kw-2'>&amp;</span><span class='ident'>target</span>, <span class='kw-2'>&amp;</span><span class='kw-2'>mut</span> <span class='ident'>writer</span>, <span class='ident'>limit</span>).<span class='ident'>ok</span>();
    <span class='kw'>let</span> <span class='ident'>out</span>: <span class='prelude-ty'>Option</span><span class='op'>&lt;</span><span class='ident'>u32</span><span class='op'>&gt;</span> <span class='op'>=</span> <span class='ident'>bincode</span>::<span class='ident'>decode_from</span>(<span class='kw-2'>&amp;</span><span class='kw-2'>mut</span> <span class='ident'>reader</span>, <span class='ident'>limit</span>).<span class='ident'>unwrap</span>();
    <span class='macro'>assert_eq</span><span class='macro'>!</span>(<span class='ident'>target</span>, <span class='ident'>out</span>);
}
</pre>

<p>A limit on the size of bytes to be read or written.</p>

<p>Size limits are an incredibly important part of both encoding and decoding.</p>

<p>In order to prevent DOS attacks on a decoder, it is important to limit the
amount of bytes that a single encoded message can be; otherwise, if you
are decoding bytes right off of a TCP stream for example, it would be
possible for an attacker to flood your server with a 3TB vec, causing the
decoder to run out of memory and crash your application!
Because of this, you can provide a maximum-number-of-bytes that can be read
during decoding, and the decoder will explicitly fail if it has to read
any more than that.</p>

<p>On the other side, you want to make sure that you aren&#39;t encoding a message
that is larger than your decoder expects.  By supplying a size limit to an
encoding function, the encoder will verify that the structure can be encoded
within that limit.  This verification occurs before any bytes are written to
the Writer, so recovering from an the error is possible.</p>
</div><h2 class='variants'>Variants</h2>
<table><tr><td id='variant.Infinite'><a class='stability Unmarked' title='No stability level'></a><code>Infinite</code></td><td></td></tr><tr><td id='variant.Bounded'><a class='stability Unmarked' title='No stability level'></a><code>Bounded</code></td><td></td></tr></table><h2 id='implementations'>Trait Implementations</h2><h3 id='derived_implementations'>Derived Implementations </h3><h3 class='impl'><a class='stability Stable' title='Stable'></a><code>impl <a class='trait' href='http://doc.rust-lang.org/nightly/core/cmp/trait.PartialOrd.html' title='core::cmp::PartialOrd'>PartialOrd</a> for <a class='enum' href='../bincode/enum.SizeLimit.html' title='bincode::SizeLimit'>SizeLimit</a></code></h3><div class='impl-items'><h4 id='method.partial_cmp' class='method'><a class='stability Stable' title='Stable'></a><code>fn <a href='#method.partial_cmp' class='fnname'>partial_cmp</a>(&amp;self, __arg_0: &amp;<a class='enum' href='../bincode/enum.SizeLimit.html' title='bincode::SizeLimit'>SizeLimit</a>) -&gt; <a class='enum' href='http://doc.rust-lang.org/nightly/core/option/enum.Option.html' title='core::option::Option'>Option</a>&lt;<a class='enum' href='http://doc.rust-lang.org/nightly/core/cmp/enum.Ordering.html' title='core::cmp::Ordering'>Ordering</a>&gt;</code></h4>
<h4 id='method.lt' class='method'><a class='stability Stable' title='Stable'></a><code>fn <a href='#method.lt' class='fnname'>lt</a>(&amp;self, __arg_0: &amp;<a class='enum' href='../bincode/enum.SizeLimit.html' title='bincode::SizeLimit'>SizeLimit</a>) -&gt; <a href='http://doc.rust-lang.org/nightly/std/primitive.bool.html'>bool</a></code></h4>
<h4 id='method.le' class='method'><a class='stability Stable' title='Stable'></a><code>fn <a href='#method.le' class='fnname'>le</a>(&amp;self, __arg_0: &amp;<a class='enum' href='../bincode/enum.SizeLimit.html' title='bincode::SizeLimit'>SizeLimit</a>) -&gt; <a href='http://doc.rust-lang.org/nightly/std/primitive.bool.html'>bool</a></code></h4>
<h4 id='method.gt' class='method'><a class='stability Stable' title='Stable'></a><code>fn <a href='#method.gt' class='fnname'>gt</a>(&amp;self, __arg_0: &amp;<a class='enum' href='../bincode/enum.SizeLimit.html' title='bincode::SizeLimit'>SizeLimit</a>) -&gt; <a href='http://doc.rust-lang.org/nightly/std/primitive.bool.html'>bool</a></code></h4>
<h4 id='method.ge' class='method'><a class='stability Stable' title='Stable'></a><code>fn <a href='#method.ge' class='fnname'>ge</a>(&amp;self, __arg_0: &amp;<a class='enum' href='../bincode/enum.SizeLimit.html' title='bincode::SizeLimit'>SizeLimit</a>) -&gt; <a href='http://doc.rust-lang.org/nightly/std/primitive.bool.html'>bool</a></code></h4>
</div><h3 class='impl'><a class='stability Stable' title='Stable'></a><code>impl <a class='trait' href='http://doc.rust-lang.org/nightly/core/cmp/trait.Ord.html' title='core::cmp::Ord'>Ord</a> for <a class='enum' href='../bincode/enum.SizeLimit.html' title='bincode::SizeLimit'>SizeLimit</a></code></h3><div class='impl-items'><h4 id='method.cmp' class='method'><a class='stability Stable' title='Stable'></a><code>fn <a href='#method.cmp' class='fnname'>cmp</a>(&amp;self, __arg_0: &amp;<a class='enum' href='../bincode/enum.SizeLimit.html' title='bincode::SizeLimit'>SizeLimit</a>) -&gt; <a class='enum' href='http://doc.rust-lang.org/nightly/core/cmp/enum.Ordering.html' title='core::cmp::Ordering'>Ordering</a></code></h4>
</div><h3 class='impl'><a class='stability Stable' title='Stable'></a><code>impl <a class='trait' href='http://doc.rust-lang.org/nightly/core/cmp/trait.PartialEq.html' title='core::cmp::PartialEq'>PartialEq</a> for <a class='enum' href='../bincode/enum.SizeLimit.html' title='bincode::SizeLimit'>SizeLimit</a></code></h3><div class='impl-items'><h4 id='method.eq' class='method'><a class='stability Stable' title='Stable'></a><code>fn <a href='#method.eq' class='fnname'>eq</a>(&amp;self, __arg_0: &amp;<a class='enum' href='../bincode/enum.SizeLimit.html' title='bincode::SizeLimit'>SizeLimit</a>) -&gt; <a href='http://doc.rust-lang.org/nightly/std/primitive.bool.html'>bool</a></code></h4>
<h4 id='method.ne' class='method'><a class='stability Stable' title='Stable'></a><code>fn <a href='#method.ne' class='fnname'>ne</a>(&amp;self, __arg_0: &amp;<a class='enum' href='../bincode/enum.SizeLimit.html' title='bincode::SizeLimit'>SizeLimit</a>) -&gt; <a href='http://doc.rust-lang.org/nightly/std/primitive.bool.html'>bool</a></code></h4>
</div><h3 class='impl'><a class='stability Stable' title='Stable'></a><code>impl <a class='trait' href='http://doc.rust-lang.org/nightly/core/cmp/trait.Eq.html' title='core::cmp::Eq'>Eq</a> for <a class='enum' href='../bincode/enum.SizeLimit.html' title='bincode::SizeLimit'>SizeLimit</a></code></h3><div class='impl-items'><h4 id='method.assert_receiver_is_total_eq' class='tymethod'><a class='stability Unstable' title='Unstable'></a><code>fn <a href='#tymethod.assert_receiver_is_total_eq' class='fnname'>assert_receiver_is_total_eq</a>(&amp;self)</code></h4>
</div><h3 class='impl'><a class='stability Unstable' title='Unstable: module was recently redesigned'></a><code>impl&lt;__S: <a class='trait' href='http://doc.rust-lang.org/nightly/core/hash/trait.Writer.html' title='core::hash::Writer'>Writer</a> + <a class='trait' href='http://doc.rust-lang.org/nightly/core/hash/trait.Hasher.html' title='core::hash::Hasher'>Hasher</a>&gt; <a class='trait' href='http://doc.rust-lang.org/nightly/core/hash/trait.Hash.html' title='core::hash::Hash'>Hash</a>&lt;__S&gt; for <a class='enum' href='../bincode/enum.SizeLimit.html' title='bincode::SizeLimit'>SizeLimit</a></code></h3><div class='impl-items'><h4 id='method.hash' class='method'><a class='stability Unstable' title='Unstable: module was recently redesigned'></a><code>fn <a href='#method.hash' class='fnname'>hash</a>(&amp;self, __arg_0: &amp;mut __S)</code></h4>
</div><h3 class='impl'><a class='stability Stable' title='Stable'></a><code>impl <a class='trait' href='http://doc.rust-lang.org/nightly/core/fmt/trait.Debug.html' title='core::fmt::Debug'>Debug</a> for <a class='enum' href='../bincode/enum.SizeLimit.html' title='bincode::SizeLimit'>SizeLimit</a></code></h3><div class='impl-items'><h4 id='method.fmt' class='method'><a class='stability Stable' title='Stable'></a><code>fn <a href='#method.fmt' class='fnname'>fmt</a>(&amp;self, __arg_0: &amp;mut <a class='struct' href='http://doc.rust-lang.org/nightly/core/fmt/struct.Formatter.html' title='core::fmt::Formatter'>Formatter</a>) -&gt; <a class='type' href='http://doc.rust-lang.org/nightly/core/fmt/type.Result.html' title='core::fmt::Result'>Result</a></code></h4>
</div><h3 class='impl'><a class='stability Stable' title='Stable'></a><code>impl <a class='trait' href='http://doc.rust-lang.org/nightly/core/marker/trait.Copy.html' title='core::marker::Copy'>Copy</a> for <a class='enum' href='../bincode/enum.SizeLimit.html' title='bincode::SizeLimit'>SizeLimit</a></code></h3><div class='impl-items'></div><h3 class='impl'><a class='stability Stable' title='Stable'></a><code>impl <a class='trait' href='http://doc.rust-lang.org/nightly/core/clone/trait.Clone.html' title='core::clone::Clone'>Clone</a> for <a class='enum' href='../bincode/enum.SizeLimit.html' title='bincode::SizeLimit'>SizeLimit</a></code></h3><div class='impl-items'><h4 id='method.clone' class='method'><a class='stability Stable' title='Stable'></a><code>fn <a href='#method.clone' class='fnname'>clone</a>(&amp;self) -&gt; <a class='enum' href='../bincode/enum.SizeLimit.html' title='bincode::SizeLimit'>SizeLimit</a></code></h4>
<h4 id='method.clone_from' class='tymethod'><a class='stability Unstable' title='Unstable: this function is rarely used'></a><code>fn <a href='#tymethod.clone_from' class='fnname'>clone_from</a>(&amp;mut self, source: &amp;Self)</code></h4>
</div></section>
    <section id='search' class="content hidden"></section>

    <section class="footer"></section>

    <div id="help" class="hidden">
        <div class="shortcuts">
            <h1>Keyboard shortcuts</h1>
            <dl>
                <dt>?</dt>
                <dd>Show this help dialog</dd>
                <dt>S</dt>
                <dd>Focus the search field</dd>
                <dt>&larrb;</dt>
                <dd>Move up in search results</dd>
                <dt>&rarrb;</dt>
                <dd>Move down in search results</dd>
                <dt>&#9166;</dt>
                <dd>Go to active search result</dd>
            </dl>
        </div>
        <div class="infos">
            <h1>Search tricks</h1>
            <p>
                Prefix searches with a type followed by a colon (e.g.
                <code>fn:</code>) to restrict the search to a given type.
            </p>
            <p>
                Accepted types are: <code>fn</code>, <code>mod</code>,
                <code>struct</code>, <code>enum</code>,
                <code>trait</code>, <code>typedef</code> (or
                <code>tdef</code>).
            </p>
        </div>
    </div>

    

    <script>
        window.rootPath = "../";
        window.currentCrate = "bincode";
        window.playgroundUrl = "";
    </script>
    <script src="../jquery.js"></script>
    <script src="../main.js"></script>
    
    <script async src="../search-index.js"></script>
</body>
</html>